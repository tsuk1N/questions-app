{% extends 'questions/base.html' %}

{% block title %}<title>Qan'A - Login</title>{% endblock title %}

{% block content %}

<div class="container">
    {% if request.user.is_authenticated %}
        <h4>You're already logged in!</h4>
    {% else %}
        <div class="py-1">
            <div class="question-border">
                <h4>Login</h4>
                <form action="{{ form_action }}" method="post">
                    {% csrf_token %}
                    <div class="user-form">
                        {% if messages %}
                            {% for message in messages %}
                                <div class="message-error">{{ message }}</div>
                            {% endfor %}
                        {% endif %}
                        {% for field in form %}
                            <p>{{ field.label }}</p>
                            <div class="author-form-errorlist">{{ field.errors }}</div>
                            {{ field }}
                        {% endfor %}    
                    </div>
                    <input type="submit" value="Login" class="btn btn-primary my-2">
                    <input type="hidden" name="next" value="{{ next }}">
                </form>
            </div>
        </div>
    {% endif %}
</div>

{% endblock content %}